<!-- Heavily based on https://github.com/jothepro/doxygen-awesome-css/blob/main/doxygen-custom/header.html -->
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=9" />
    <meta name="generator" content="Doxygen 1.9.1" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- BEGIN opengraph metadata -->
    <meta property="og:title" content=libdl />
    <meta property="og:image" content="twemoji-brain.png" />
    <meta property="og:description" content="Simple yet powerful deep learning" />
    <meta property="og:url" content="https://github.com/TheMrSheldon/libdl" />
    <!-- END opengraph metadata -->
    <!-- BEGIN twitter metadata -->
    <meta name="twitter:image:src" content="twemoji-brain.png" />
    <meta name="twitter:title" content="libdl" />
    <meta name="twitter:description" content="Simple yet powerful deep learning" />
    <!-- END twitter metadata -->
    <title>libdl: dl::TensorPtr Class Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css" />
    <link rel="icon" type="image/svg+xml" href="twemoji-brain.png" />
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
    <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
    <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
    <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
    <script type="text/javascript" src="toggle-alternative-theme.js"></script>
    <script type="text/javascript">
        DoxygenAwesomeFragmentCopyButton.init()
        DoxygenAwesomeDarkModeToggle.init()
        DoxygenAwesomeParagraphLink.init()
        DoxygenAwesomeInteractiveToc.init()
        DoxygenAwesomeTabs.init()
    </script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-tabs.js" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <!-- https://tholman.com/github-corners/ -->
    <a href="https://github.com/TheMrSheldon/libdl" class="github-corner" title="View source on GitHub" target="_blank"
        rel="noopener noreferrer">
        <svg viewBox="0 0 250 250" width="40" height="40"
            style="position: absolute; top: 0; border: 0; right: 0; z-index: 99;" aria-hidden="true">
            <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
            <path
                d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
                fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
            <path
                d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
                fill="currentColor" class="octo-body"></path>
        </svg></a>
    <style>
        .github-corner:hover .octo-arm {
            animation: octocat-wave 560ms ease-in-out
        }
        @keyframes octocat-wave {
            0%,
            100% {
                transform: rotate(0)
            }
            20%,
            60% {
                transform: rotate(-25deg)
            }
            40%,
            80% {
                transform: rotate(10deg)
            }
        }
        @media (max-width:500px) {
            .github-corner:hover .octo-arm {
                animation: none
            }
            .github-corner .octo-arm {
                animation: octocat-wave 560ms ease-in-out
            }
        }
    </style>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0">
                <tbody>
                    <tr style="height: 56px;">
                        <td id="projectlogo"><img alt="Logo" src="twemoji-brain.png" /></td>
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <div id="projectname">libdl
                                &#160;<span
                                    id="projectnumber">0.0.1</span>
                            </div>
                            <div id="projectbrief">Simple yet powerful deep learning</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- end header part --><!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classdl_1_1TensorPtr.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classdl_1_1TensorPtr-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">dl::TensorPtr Class Reference<span class="mlabels"><span class="mlabel">final</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classdl_1_1TensorPtr.html" title="The TensorPtr is a reference counted pointer to a tensor. It can generally be thought of like an std:...">TensorPtr</a> is a reference counted pointer to a tensor. It can generally be thought of like an std::shared_ptr&lt;Tensor&gt;.  
 <a href="classdl_1_1TensorPtr.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tensorptr_8hpp_source.html">tensorptr.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:adf8a9c939be848402121b988223a40a7"><td class="memItemLeft" align="right" valign="top"><a id="adf8a9c939be848402121b988223a40a7"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (<a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a> &amp;&amp;other)</td></tr>
<tr class="separator:adf8a9c939be848402121b988223a40a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443092274f794cab184c96bdc4c7d001"><td class="memItemLeft" align="right" valign="top"><a id="a443092274f794cab184c96bdc4c7d001"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (const <a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a> &amp;other)</td></tr>
<tr class="separator:a443092274f794cab184c96bdc4c7d001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83629860fd174c08675af765c2f7793f"><td class="memItemLeft" align="right" valign="top"><a id="a83629860fd174c08675af765c2f7793f"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (std::nullptr_t p)</td></tr>
<tr class="separator:a83629860fd174c08675af765c2f7793f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14b23e356822bb8bdb3bfb91b8ca67da"><td class="memItemLeft" align="right" valign="top"><a id="a14b23e356822bb8bdb3bfb91b8ca67da"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (int value)</td></tr>
<tr class="separator:a14b23e356822bb8bdb3bfb91b8ca67da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66aec5fce97a2c2f94f5286248aab7e"><td class="memItemLeft" align="right" valign="top"><a id="ae66aec5fce97a2c2f94f5286248aab7e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (float value)</td></tr>
<tr class="separator:ae66aec5fce97a2c2f94f5286248aab7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca4ddd24a7722ea505e05bf3fc30f9d1"><td class="memItemLeft" align="right" valign="top"><a id="aca4ddd24a7722ea505e05bf3fc30f9d1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (double value)</td></tr>
<tr class="separator:aca4ddd24a7722ea505e05bf3fc30f9d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21e95db0adad5f81ec8067586e6f97dc"><td class="memItemLeft" align="right" valign="top"><a id="a21e95db0adad5f81ec8067586e6f97dc"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (std::initializer_list&lt; int &gt; value)</td></tr>
<tr class="separator:a21e95db0adad5f81ec8067586e6f97dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d3876ab77f914cf6b5c20f344bca48"><td class="memItemLeft" align="right" valign="top"><a id="ab3d3876ab77f914cf6b5c20f344bca48"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (std::initializer_list&lt; float &gt; value)</td></tr>
<tr class="separator:ab3d3876ab77f914cf6b5c20f344bca48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab173a8e4117cea39aa4e7c5cc1b53c1"><td class="memItemLeft" align="right" valign="top"><a id="aab173a8e4117cea39aa4e7c5cc1b53c1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TensorPtr</b> (std::initializer_list&lt; double &gt; value)</td></tr>
<tr class="separator:aab173a8e4117cea39aa4e7c5cc1b53c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4221255cfacdb3e1d56dddd8d7e916bb"><td class="memItemLeft" align="right" valign="top"><a id="a4221255cfacdb3e1d56dddd8d7e916bb"></a>
<a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a> &amp;other)</td></tr>
<tr class="separator:a4221255cfacdb3e1d56dddd8d7e916bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68264f0d6d2b3df7b6cac8ca18f7158"><td class="memItemLeft" align="right" valign="top"><a id="ad68264f0d6d2b3df7b6cac8ca18f7158"></a>
<a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a> &amp;&amp;other)</td></tr>
<tr class="separator:ad68264f0d6d2b3df7b6cac8ca18f7158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae276b8cf4ffd964a84d904a23994bfe"><td class="memItemLeft" align="right" valign="top"><a id="aae276b8cf4ffd964a84d904a23994bfe"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator==</b> (const std::nullptr_t &amp;other)</td></tr>
<tr class="separator:aae276b8cf4ffd964a84d904a23994bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a8ec18e77835358d44c367b4ca51b4ad5"><td class="memItemLeft" align="right" valign="top"><a id="a8ec18e77835358d44c367b4ca51b4ad5"></a>
std::shared_ptr&lt; std::experimental::propagate_const&lt; <a class="el" href="classdl_1_1Tensor.html">Tensor</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>data</b></td></tr>
<tr class="separator:a8ec18e77835358d44c367b4ca51b4ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classdl_1_1TensorPtr.html" title="The TensorPtr is a reference counted pointer to a tensor. It can generally be thought of like an std:...">TensorPtr</a> is a reference counted pointer to a tensor. It can generally be thought of like an std::shared_ptr&lt;Tensor&gt;. </p>
<p>The <a class="el" href="classdl_1_1TensorPtr.html" title="The TensorPtr is a reference counted pointer to a tensor. It can generally be thought of like an std:...">TensorPtr</a> serves multiple purposes: (1) implementation hiding and (2) memory management. (1) is important since the concrete tensor implementation could be, e.g., a sparse tensor, a dense tensor or even tensors on different devices (i.e., using different drivers like cuda or xtensor). The implementation, generally, is agnostic to these differences and <a class="el" href="classdl_1_1TensorPtr.html" title="The TensorPtr is a reference counted pointer to a tensor. It can generally be thought of like an std:...">TensorPtr</a> hides them. (2) is necessary since, in some cases, holding multiple references to the same tensor can improve memory consumption (e.g., no need to copy the tensor for gradient calculation when storing it for automatic differentation in the computation graph).</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000004">Todo:</a></b></dt><dd>Design decision: maybe it would make sense to make the <a class="el" href="classdl_1_1TensorPtr.html" title="The TensorPtr is a reference counted pointer to a tensor. It can generally be thought of like an std:...">TensorPtr</a> a unique_ptr and only consider (1) implementation hiding. Automatic differentiation could keep temporary results without copying and inputs have to be cloned (at least right now) anyway. Without the reference counted pointer behavior, users could maybe better optimize the data usage in their code and choose to move or copy their data appropriately. It could also be more natural to C++ developers that </dd></dl>
<div class="fragment"><div class="line">TensorPtr a = ...;</div>
<div class="line">TensorPtr b = a;</div>
</div><!-- fragment --><p> copies the data instead of referencing it (though the "Ptr" suffix to this class should make that clear anyway). </p>

<p class="definition">Definition at line <a class="el" href="tensorptr_8hpp_source.html#l00030">30</a> of file <a class="el" href="tensorptr_8hpp_source.html">tensorptr.hpp</a>.</p>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>dl/tensor/<a class="el" href="tensorptr_8hpp_source.html">tensorptr.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>dl</b></li><li class="navelem"><a class="el" href="classdl_1_1TensorPtr.html">TensorPtr</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
